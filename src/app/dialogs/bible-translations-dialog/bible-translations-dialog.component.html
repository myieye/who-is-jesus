<ng-container *ngIf="content">
    <app-dialog-header [title]="content.bibleGatewayTranslations"></app-dialog-header>
    <ion-content>
        <div mat-dialog-content class="dialog-content">
            <p>{{content.bibleGatewayTranslationsDescription}}</p>

            <mat-form-field class="search-field" floatLabel="never">
                <mat-label>{{content.searchByLanguageOrTranslation}}</mat-label>
                <input matInput #searchInput (keydown.enter)="searchInput.blur()"
                    (input)="searchChanged(searchInput.value)">
            </mat-form-field>

            <mat-chip-list class="selected-bibles">
                <mat-chip *ngFor="let bible of (selectedBibles?.length) ? selectedBibles : defaultBibles"
                    class="label-chip" [class.default]="!selectedBibles?.length" [removable]="selectedBibles?.length"
                    (removed)="deselectBible(bible)" [matTooltip]="bible.name">
                    {{bible.key}}
                    <mat-icon matChipRemove *ngIf="selectedBibles?.length">cancel</mat-icon>
                </mat-chip>
            </mat-chip-list>

            <mat-selection-list #bibles>
                <ng-container *ngFor="let language of biblesByLanguage">
                    <p [class.hidden]="this.hiddenBibles[language.language.name]">{{language.language.name}}</p>
                    <mat-list-option *ngFor="let bible of language.bibles" [value]="bible" (click)="toggleBible(bible)"
                        [selected]="selectedBibles.includes(bible)"
                        [class.hidden]="this.hiddenBibles[language.language.name] || this.hiddenBibles[bible.name]">
                        {{bible.name}}
                    </mat-list-option>
                </ng-container>
            </mat-selection-list>
        </div>
    </ion-content>

    <ion-fab class="save-button-container" vertical="bottom" horizontal="end" slot="fixed">
        <ion-fab-button (click)="save()">
            <ion-icon name="checkmark-outline"></ion-icon>
        </ion-fab-button>
    </ion-fab>
</ng-container>